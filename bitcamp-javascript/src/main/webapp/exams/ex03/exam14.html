<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex02</title>
</head>
<body>
<h1>함수 - 에로우(arrow)함수 리턴하기</h1>
<script>
"use strict"
// arrow function이나 익명 함수나 같다.

function closureMaker(fnType, count) { //잊지말라 파라미터도 로컬 변수이다.
	switch(fnType){
	case "sum":
		/*function = () => */
		return  () => { 
		// 이렇게 클로저를 정의하는 순간 클로저가 사용하는 바깥 함수의 로컬 변수 count는
		// 클로저가 되는
	    
		var sum = 0;       
		for (var i=1; i<= count; i++){
			sum += i;
	}
	console.log("합계 =", sum);
    };
    
	case "factorial":
		
		return () => {
	    var sum = 1;
	    for (var i=1; i<= count; i++){
	        sum *= i;
	    }
	    console.log("팩토리얼 =", sum);
	    };
	    
	default:
	    return function() {
	    console.log("해당 연산을 지원하지 않습니다.");
	    };
	    }
	}

var fn1= closureMaker("sum", 10);
var fn2= closureMaker("sum", 100);

    fn1();
    fn2();
/* 실행결과
  exam11.html:30 합계 = 55
  exam11.html:30 합계 = 5050
 */
</script>
</body>
</html>